<mat-nav-list
  [class.w-64]="!isMinimized"
  [class.w-16]="isMinimized"
  class="h-full"
>
  <ng-container *ngFor="let item of menuItems()">
    <ng-container *ngIf="!item.children">
      <a
        mat-list-item
        [routerLink]="item.link"
        routerLinkActive="active"
        class="flex items-center"
      >
        <mat-icon mat-list-icon>{{ item.icon }}</mat-icon>
        <span *ngIf="!isMinimized" class="ml-2">{{ item.title }}</span>
      </a>
    </ng-container>

    <ng-container *ngIf="item.children">
      <mat-expansion-panel [expanded]="false">
        <mat-expansion-panel-header>
          <mat-icon>{{ item.icon }}</mat-icon>
          <span *ngIf="!isMinimized" class="ml-2">{{ item.title }}</span>
        </mat-expansion-panel-header>
        <mat-nav-list>
          <a
            mat-list-item
            *ngFor="let child of item.children"
            [routerLink]="child.link"
            routerLinkActive="active"
            class="flex items-center"
          >
            <mat-icon mat-list-icon>{{ child.icon }}</mat-icon>
            <span *ngIf="!isMinimized" class="ml-2">{{ child.title }}</span>
          </a>
        </mat-nav-list>
      </mat-expansion-panel>
    </ng-container>
  </ng-container>
</mat-nav-list>
